<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>Managing Technical Debt - Chris Chang - PyTexas '15</title>

    <meta name="description" content="Managing Technical Debt">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <link rel="stylesheet" href="css/mine.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>
    <div class="reveal">
      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">








<section data-background="images/pony-stone.png" data-background-position="50% 90%" data-background-size="40%">
  <h1 style="margin-bottom: 2em;">Mjanaging Tjechnical Djebt</h1>
  <!-- django pony http://www.istockphoto.com/vector/fairy-tale-vector-elements-3355498?st=3eb57c4 -->
  <!-- Stone of Triumph from The Simpsons Tapped Out game -->
</section>

<section id="me" data-background="images/me.jpg">
  <div class="text-shadowbox">
    <h2>Chris Chang</h2>
    <p>
      <a href="https://github.com/crccheck" target="_blank">github/crccheck</a><br>
      <a href="https://twitter.com/ccrrccrccrr/" target="_blank">@ccrrccrccrr</a><br>
      <a href="#">imdb/chris chang(II)</a><br>
      <a href="https://www.pinterest.com/cpanel/" target="_blank">pinterest/cpanel</a>
    </p>
    <p>
      <a href="http://www.tabbedout.com" target="_blank">
        <img class="text-logo" src="images/tabbedout.png" alt="TabbedOut" style="height: 2em">
      </a><br>
      formerly <a href="http://www.texastribune.org" target="_blank">
        <img class="text-logo" src="images/the-texas-tribune.png" alt="The Texas Tribune"
             style="position: relative; top: 5px;">
      </a>
    </p>
  </div>
  <aside class="notes" data-markdown>
I’ve been using Django since version 1.2? My 4th DjangoCon.

I've only been a professional software developer for 6 years this is what I've
seen and these are the practical things I've seen to help combat technical
debt.
</aside>
</section>

<section class="slide">
  <section>
    <h2>What is technical debt?</h2>
    <ul>
      <li>
        <blockquote cite="https://en.wikipedia.org/wiki/Technical_debt">
          [Technical debt] can be thought of as work that needs to be done before a particular job can be considered complete or proper.
          <sup style="white-space:nowrap;" class="noprint Inline-Template Template-Fact">[<i><strong class="selflink"><span title="Wikipedia:Citation needed">citation needed</span></strong></i>]</sup>
        </blockquote>
      </li>
      <li>
        <blockquote cite="The Phoenix Project, page 196">
          Left unchecked, technical debt will ensure that the only work that gets done is unplanned work!
        </blockquote>
      </li>
      <li>Every line of code is technical debt</li>
    </ul>
    <aside class="notes" data-markdown>
Technical debt is what you feel the next time you want to make a change - Gene Kim

EVERY LINE: Every line was written for a reason, you have to know why

NEXT: No definition in Urban Dictionary
    </aside>
  </section>

  <section data-background="images/urban-dictionary-technical-debt.png" data-background-size="50%"></section>
</section>

<section>
  <section data-transition="none">
    <ul>
      <li>When you fix one bug only to create another</li>
      <li class="fragment">
        When you can’t deliver a feature because you don’t know what will break
      </li>
      <li class="" style="visibility: hidden;">
        If you’re using a rapid development framework and can’t rapidly develop
      </li>
      <li class="" style="visibility: hidden;">&ldquo;it works for me&rdquo;</li>
      <li class="" style="visibility: hidden;">
        Everything is on fire all the time
        <img src="images/this-is-fine.png" alt="">
      </li>
    </ul>
    <aside class="notes">
I can laugh about these, because now that I am an expert, I never have to deal
with these again :niran-laugh:
    </aside>
  </section>

  <section data-transition="none">
    <ul>
      <li>When you fix one bug only to create another</li>
      <li>When you can’t deliver a feature or security patch because you don’t know what will break</li>
      <li class="fragment">
        If you’re using a rapid development framework and can’t rapidly develop
      </li>
      <li class="fragment">&ldquo;It works for me&rdquo;</li>
      <li class="fragment">
      <a href="http://gunshowcomic.com/648">
        <img src="images/this-is-fine.png" alt="" style="float: right; height: 250px; position: relative; top: -50px;">
      </a>
        <!-- http://gunshowcomic.com/648 -->
        Everything is on fire all the time
      </li>
    </ul>
    <aside class="notes" data-markdown>
Frustration levels are high because you never deliver, never move forward

Django lets you build things very quickly. So developers will start off loving
Django. But if you build without regard to technical debt, you stop being able
to deliver. Django turns into a nightmare and now Django becomes the scapegoat
for your organization.
    </aside>
  </section>

  <section id="fire" data-background="images/fire.gif"></section>
  <!-- TODO citation -->
</section>

<section data-background="images/tiny_belly_code.png" data-background-size="40%"></section>

<section>
  <h1>Some tips</h1>
  <ul style="display: block;">
    <li><strong>YOU:</strong> Change how you code</li>
    <li><strong>TEAM:</strong> Workflow practices you can put in place as a team</li>
    <li><strong>ORG:</strong> Organizational changes
    </li>
  </ul>
</section>

<section>
  <section data-background-video="images/just-test-it.webm,images/just-test-it.mp4">
    <h2 class="fragment" style="color: magenta; font-weight: 800; font-size: 3em; letter-spacing: 0.1em;">Tests. Do it.</h2>
    <br><br><br>
    <!-- <iframe src="http://gfycat.com/ifr/FrailImpishAnnashummingbird" frameborder="0" scrolling="no" width="413" height="392" style="-webkit-backface-visibility: hidden;-webkit-transform: scale(1);" ></iframe> -->
    <aside class="notes" data-markdown>
Do it! Just do it! Don't let your dreams be dreams. Yesterday, you said
you would write tests tomorrow. So just do it! Make your dreams come true! Just do it!
    </aside>
  </section>

  <section>
    <h2>When to test</h2>
    <p>If you're making an assumption, you should be writing a test.</p>
    <p>You may decide to scrimp on tests in the beginning, but regression testing should be mandatory.</p>
    <p>You will sleep better at night with good test coverage.</p>
    <aside class="notes" data-markdown>
Someone once told me, if you’re making an assumption, you should be writing a test. (it was at #austinjs)

The reason regression testing is more important than tests is recurring bugs
are a real embarrassment. “fool me once, shame on you. Fool me - you
can't get fooled again.”
    </aside>
  </section>

  <section id="zipcode">
    <h2>Test your assumption</h2>
    <pre><code class="lang-python" data-trim>
def zipcode(s):
    """
    Get the 5 digit zipcode from any zipcode format.

    >>> zipcode('12345')
    "12345"
    >>> zipcode('12345-6789')
    "12345"
    >>> zipcode(12345)
    "12345"
    >>> zipcode(1337)
    "01337"
    >>> zipcode(None)
    ValueError: s must be a US postal zip code
    """
    return s[:5]
    </code></pre>
    <!-- <script src="https://gist.github.com/crccheck/620f03ba30522f2d8d4b.js"></script> -->
  </section>

  <section>
    <h2>Don't have a single test?</h2>
    <p>Gotta start somewhere.</p>
    <pre><code class="lang-python" data-trim>
from django.test import TestCase

class HomeTests(TestCase):
    def test_homepage_loads(self):
        self.client.get('/')
    </code></pre>
    <p><small><a href="http://blog.doismellburning.co.uk/2015/08/05/the-most-efficient-django-test/" target="_blank">blog.doismellburning.co.uk/2015/08/05/the-most-efficient-django-test/</a></small>
    </p>
    <aside class="notes">
NEXT: oh yeah, one more thing. if you’re not sure if you should write a test, then...
    </aside>
  </section>

  <section data-background="images/if-you-liked-it.jpg" data-background-size="65%"></section>
</section>

<section>
  <section>
    <h2>Coverage</h2>
    <p>Coverage is just a tool to help you figure out where you're missing tests.</p>
    <p>100% coverage isn't useful if you have crappy tests.</p>
  </section>

  <section>
    <h2>Signs your tests are crappy</h2>
    <ul>
      <li>Can other people read and extend them?</li>
      <li>Are tests getting maintained? Or are they a source of frustration?</li>
      <li>
        Do your tests describe the problem in a way where someone could throw
        away the code and use the tests as a spec?
      </li>
    </ul>
    <aside class="notes" data-markdown>
Not only the tests as a spec, but the documentation, maybe even just the readme.

We'll revisit tests later.
    </aside>
  </section>
</section>

<section data-background="images/bitrot.jpg" data-background-position="98% 55%" data-background-size="25%">
  <h2>Bitrot / Software entropy</h2>
  <div style="float: right; width: 27%; height: 350px;">&nbsp;</div>
  <p>If you're not touching something, it's getting worse</p>
  <p>If you don't have the manpower to continously touch all your code and documentation, that's a smell</p>
  <p>Improvement Kata - Mike Rother</p>
  <blockquote cite="http://reaktor.com/blog/applications-age-like-fish-data-ages-like-wine/">
    Applications age like fish, data ages like wine
  </blockquote>
  <aside class="notes">
You may have also heard about the Toyota Kata
  </aside>
</section>

<section id="dragons" data-background="images/dragons.gif" data-background-size="80%">
  <p>Make each developer more effective</p>
  <br><br><br>
  <br><br><br>
  <!-- https://soloswimmer.wordpress.com/2012/07/17/here-be-dragons/ -->
</section>

<section>
  <section id="ci">
    <h2>Continous integration</h2>
    <blockquote>
      &ldquo;Any task you do at least once a month should take less time than it takes to get a cup of coffee&rdquo;
      <sup>&dagger;</sup>
    </blockquote>
    <ul>
      <li>Jenkins</li>
      <li>TravisCI</li>
      <li>Tox</li>
      <li><a href="http://docs.python-guide.org/en/latest/scenarios/ci/">docs.python-guide.org/en/latest/scenarios/ci/</a></li>
    </ul>
    <p>
    <small><sup>&dagger;</sup>Original: <a href="http://edcanhack.com/2014/09/a-healthy-platform-checklist/">Any system that must be deployed more often than monthly does so faster than you can get a cup of coffee.</a></small>
    </p>
    <aside class="notes" data-markdown>
Maintaining a reproducible environment drastically reduces "it works for me".

Know what's better than having to do just one little step? Having to do zero.

Tox has multidimentional stuff now that is great and lets you try the same
code on a matrix of Python and Django versions.

If you automate the routine things away, you get to do fun creative things.
    </aside>
  </section>

  <section>
    <div>
      <img src="images/is_it_worth_the_time.png" alt="">
    </div>
    <small><cite><a href="https://xkcd.com/1205/">xkcd/1205</a></cite></small>
  </section>

  <section>
    <div>
      <img src="images/automation.png" alt="">
    </div>
    <small><cite><a href="https://xkcd.com/1319/">xkcd/1319</a></cite></small>
  </section>
</section>

<section>
  <section>
    <h2>Code quality</h2>
    <ul>
      <li>Practice makes perfect. Always be iterating.</li>
      <li>Keep things simple. Code that requires less context to understand is more readable.</li>
      <li>Know your audience.</li>
      <li>Choose readability over performance.</li>
      <li><code>import this</code></li>
    </ul>
    <aside class="notes" data-markdown>
Avoid magic and cleverness. I found that whenever I write clever code,
I'll naturally refactor it to be dumber.

oh, you just learned about __getattr__ and now you want to use it everywhere?
Have fun trying to figure out why things randomly don’t work.

The idea of keeping things simple isn’t to handicap yourself from using fancy
language features, to avoid special snowflake patterns that are only used once
and require more context to read.

Know your audience -- If you're doing scientific python, using Pandas to
do a filter is fine. Importing pandas just to do a simple filter in a view
would be ridiculous.
    </aside>
  </section>

  <section>
    <pre><code data-trim>
&gt;&gt;&gt; improt this
  File "&lt;stdin>", line 1
    improt this
              ^
SyntaxError: invalid syntax
    </code></pre>
  </section>

  <section>
    <pre><code data-trim>
&gt;&gt;&gt; import this
The Zen of Python, by Tim Peters

Beautiful is better than ugly.
Explicit is better than implicit.
Simple is better than complex.
Complex is better than complicated.
Flat is better than nested.
Sparse is better than dense.
Readability counts.
Special cases aren't special enough to break the rules.
...
    </code></pre>
  </section>

  <section>
    <pre><code class="python" data-trim>
from operators import attrgetter

friends = [
    aquacorg,
    corgnelius,
    stumphery,
    gatsby,
    scout,
    tibby,
    winston,
]

# Which is better?
accounts = map(attrgetter('instagram'), friends)

accounts = [x.instagram for x in friends]
    </code></pre>
  </section>
  <section>
    <h2>Related topics</h2>
    <ul>
      <li>#nocomments &ndash; Do comments help or hurt readability?</li>
      <li>Cyclomatic complexity &ndash; quantify readability</li>
      <li><a href="https://pypi.python.org/pypi/mccabe">McCabe</a></li>
      <li>PEP8</li>
      <li>PyFlakes</li>
    </ul>
  </section>
</section>

<section>
  <section data-background="images/snake-fire.gif" data-background-position="50% 95%" data-background-size="27%">
    <h2>Code review</h2>
    <p>This is the single most practical way to get better.</p>
    <ul>
      <li><q>People take too much time to review</q></li>
      <li><q>I'm the boss</q></li>
      <li><q>We need to push this hotfix for production ASAP</q></li>
    </ul>
    <br><br><br>
    <br><br><br>
    <aside class="notes" data-markdown>
Maybe you're the boss, or maybe even big boss

Spread the blame

Coding under pressure
    </aside>
  </section>

  <section>
    <p>Sleep on it</p>
    <p>Practice with others on open source projects</p>
    <blockquote cite="Proverbs 27:17">
    As iron sharpens iron, so one person sharpens another.
    </blockquote>
    <aside class="notes" data-markdown>
Small team? working alone? Sleep on it. Open pull requests anyways. Seeing your
diff at a higher level will give you a new perspective.
    </aside>
  </section>
</section>

<section>
  <section>
    <h2>Pull requests</h2>
    <p>The rule is: one pull request = one change</p>
    <p><img src="images/corgi-horse.jpg" alt="" height=230></p>
    <aside class="notes" data-markdown>
smaller pull requests = faster reviews and you can move on.
bike shedding
tighter feedback loops

THE RULE IS: You should break this rule. Well, bend. If you see something while
writing code, you should fix it as long as it doesn’t hurt the readability of
the pull request. if it does, make a ticket to clean it up.
    </aside>
  </section>

  <section>
    <h2>Boy scout rule</h2>
    <p><q>Leave this world a little better than you found it.</q><br>&ndash; Robert Baden Powell</p>
    <p>If you have to touch a test to clean something, leave it alone for now.</p>
    <aside class="notes" data-markdown>
Do a good turn daily?
Be Prepared?
    </aside>
  </section>

  <section>
    <h2>Code review is more than reviewing code</h2>
    <!-- Needed to left justify all this -->
    <div style="display: inline-block; text-align: left;">
      <ul>
        <li>Repeatable?</li>
        <li>Documentated?</li>
        <li>Maintainable? (Does the feature justify the technical debt?)</li>
      </ul>
      <p><a href="https://www.youtube.com/watch?v=wf-BqAjZb8M">Raymond Hettinger - Beyond PEP 8</a></p>
    </div>
    <aside class="notes" data-markdown>
Code review is more than just checking syntax and style.

REPEATABLE EXAMPLE: Last week (August 2015) I used a utility and it wasn't
working, so I went back to the pull request and saw that I was using the
utility the wrong way.

DOCUMENTED EXAMPLE: If you're adding a new feature to the CMS, updating and
communicating to users that there's a change is part of definition of done.

EXAMPLE: You may have decided to implement something with a custom templatetag
but during code review, you decide to use a jquery one-liner.
    </aside>
  </section>

  <section>
    <h2>Technical debt note</h2>
    <blockquote cite="http://www.lbb.state.tx.us/FiscalNotes.aspx">
      A fiscal note is a written estimate of the costs, savings, revenue gain, or revenue loss that may result from implementation of requirements in a bill or joint resolution. It serves as a tool to help legislators better understand how a bill might impact the state budget as a whole, individual agencies, and in some instances, local governments.
    </blockquote>
    <aside class="notes" data-markdown>
Depends on your organization

It's more than just stating what the LOC change is. Making sure everyone is
cognizant of the debt being made.

concrete examples of hidden technical debt: Adding a snowflake pattern, adding
a Vary cookie to page that did not have one before.

> decreases because of deletions, looser coupling between this and higher ed,
> and modernized higher ed to work with newer django

> decreases because whaaaaat is all this crazy logic that was there before?

> increases to add an oft requested feature. there's very light test coverage.

> decreases because this adds documentation and removes non .env file workflows

    </aside>
  </section>
</section>


<section id="pair" data-background="images/pair-programming.gif" data-background-size="20%" data-background-position="98% 55%">
  <!-- http://translatorsanonymous.tumblr.com/post/123721193222/got-a-cat-tool-for-my-cat-tool-when-newbie -->
  <h2>Pair programming</h2>
  <div style="float: right; width: 24%; height: 400px;">&nbsp;</div>
  <!-- <a href="https://youtu.be/dYBjVTMUQY0" target="_blank"><img src="images/pair-programming.jpg" alt="" style="margin: 0;"></a> -->
  <p>The best way to up code quality and share knowledge</p>
  <ul>
    <li>tmux + vim</li>
    <li>Driver + Navigator</li>
    <li>Ping pong pair programming</li>
  </ul>
  <aside class="notes" data-markdown>
this costs the most time, but has a excellent long term benefits. Code review
with even tighter feedback loop.

PING PONG: async pair programming
  </aside>
</section>


<section id="teams" data-background="images/PowerRangers.jpg">
  <!-- captain planet? -->
  <!-- TMNT -->
  <div class="text-shadowbox dark">
    <h2>Teams</h2>
    <p>Guess what? Software teams are just like other teams</p>
    <p>Hire coworkers that share your same goal (caring about improving processes)</p>
    <p><q>Past you is the worst coworker ever</q></p>
  </div>
  <aside class="notes" data-markdown>
avoid silos. code review/pair programming are just the beginning of making sure code knowledge is shared.

what about if you’re alone? well, you just have to learn through experience.
working with past self is a lot like working with a terrible coworker.

When I interview now, I assume they passed technical test already. I ask
cultural fit questions.

  </aside>
</section>

<section>
  <section data-background="images/corgi-beach.jpg" data-background-position="98% 98%" data-background-size="25%">
    <h2>Culture</h2>
    <ul>
      <li>Work to get faster feedback loops</li>
      <li>Learn how to say "NO"</li>
      <li>Embrace failure</li>
      <li>Make yourself obsolete. Work like you're training your replacement</li>
      <li>Go on vacation without your laptop</li>
    </ul>
    <br><br>
    <aside class="notes" data-markdown>
Work to stop the endless stream of small tasks that keep coming in.
    </aside>
  </section>

  <section>
    <ul>
      <li>Admit that technical debt is a problem</li>
      <li>The seeds of technical debt are sown upstream by product development</li>
      <li>Treat paying off technical debt as a feature</li>
      <li>
        Write up concrete plans to reduce technical debt as actionable items with definitions of done:
        <ul>
          <li><q>Upgrade Django to version 1.4.23</q></li>
          <li><q>Change views in app <code>Y</code> to use new base view from app <code>X</code></q></li>
          <li><img class="inline-img" src="images/emoji.png" alt="" style="height: 1em;"></li>
        </ul>
      </li>
    </ul>
    <aside class="notes" data-markdown>

It's hard to communicate to the business side that adding what seems like a
simple feature is actually difficult (especially if you used to be fast;
thanks, technical debt!) perhaps you've deployed a lot of prototype and WIP
code. And it's hard to justify taking time to do a task that isn't a feature.

I like making lists of technical debt with rankings. I use :fire: :poop: and
table flip to indicate how serious the problem is, how embarassing it is, and
how hard it is to fix.

If everything is on fire all the time, that’s a bad time to plant a tree.
    </aside>
  </section>
  <section id="table">
    <table style="font-size: 0.7em;">
      <thead>
        <tr>
          <th>Task</th>
          <th><img class="inline-img" src="images/fire.png" alt="" style="height: 1em;"></th>
          <th><img class="inline-img" src="images/poop.png" alt="" style="height: 1em;"></th>
          <th><img class="inline-img" src="images/table.png" alt="" style="height: 1em;"></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Reduce homepage query count</td>
            <td>
              <img class="inline-img" src="images/fire.png" alt="" style="height: 1em;">
              <img class="inline-img" src="images/fire.png" alt="" style="height: 1em;">
              <img class="inline-img" src="images/fire.png" alt="" style="height: 1em;">
              <img class="inline-img" src="images/fire.png" alt="" style="height: 1em;">
            </td>
            <td><img class="inline-img" src="images/poop.png" alt="" style="height: 1em;"></td>
            <td>┬──┬</td>
        </tr>
        <tr>
          <td>Fix inconsistent migrations</td>
            <td><img class="inline-img" src="images/fire.png" alt="" style="height: 1em;"></td>
            <td><img class="inline-img" src="images/poop.png" alt="" style="height: 1em;"></td>
            <td>┬───┬</td>
        </tr>
        <tr>
          <td>Add CSRF</td>
          <td><img class="inline-img" src="images/fire.png" alt="" style="height: 1em;"></td>
          <td>
            <img class="inline-img" src="images/poop.png" alt="" style="height: 1em;">
            <img class="inline-img" src="images/poop.png" alt="" style="height: 1em;">
            <img class="inline-img" src="images/poop.png" alt="" style="height: 1em;">
            <img class="inline-img" src="images/poop.png" alt="" style="height: 1em;">
          </td>
          <td>┬─┬</td>
        </tr>
        <tr>
          <td>Refactor Polls views to CBV</td>
          <td></td>
          <td></td>
          <td>┬─┬</td>
        </tr>
        <tr>
          <td>Upgrade from Django 1.5 to 1.8</td>
          <td></td>
          <td><img class="inline-img" src="images/poop.png" alt="" style="height: 1em;"></td>
          <td>┬─────┬</td>
        </tr>
      </tbody>
    </table>
    <aside class="notes" data-markdown>
      Writing down your technical debt can be cathartic.

      And look here, here's some low hanging fruit.
    </aside>
  </section>
</section>

<section id="agile" data-background="images/corgi-go-round.gif">
  <div class="text-shadowbox dark">
    <h2>Agile</h2>
    <p>Always be iterating the process.</p>
  </div>
  <aside class="notes" data-markdown>

Despite what you think about Agile, and what you can actually implement, you
can take the pieces you like

A lot agile is just common sense.
  </aside>
</section>

<section>
  <section>
    <h2>Django is great</h2>
    <p>Test</p>
    <p>Less boilerplate</p>
    <p>Great community</p>
    <aside class="notes">
As a framework, Django's got a good balance of opinion versus freedom.
    </aside>
  </section>

  <section>
    <h2>Don't customize the Django admin</h2>
    <p>The admin is a developer interface, not a CMS</p>
    <p>Writing your own seems like it's more technical debt, but you'll end up with a better user experience</p>
    <aside class="notes" data-markdown>

Are you writing Selenium tests for custom admin behavior? Because that's what
you have to do if you start customizing the admin. Lots of intersecting code.
If you need a custom interface, write it. Bits of the admin are often re-usable
outside the admin (permissions, require-login). Use third party admin
integrations that are maintained, don’t do it yourself. If you write something
that changes, are you going to read through every Django release note? since
admin things tend to be hacky, more expensive to fix/maintain in general.

Tight coupling to something you don't control.

    </aside>
  </section>

  <section>
    <p>A partial list of admin packages you can use instead of coding your own:</p>
    <a href="https://www.djangopackages.com/grids/g/admin-interface/" target="_blank">
      <img data-src="images/admin.png" alt="">
    </a>
  </section>

  <section data-background="images/dirty_dishes.jpg">
    <!-- https://commons.wikimedia.org/wiki/File:Dirty_dishes.jpg -->
    <div class="text-shadowbox dark">
      <h2>Clean as you cook</h2>
      <p>Delete code! That's what source control is for.</p>
      <p>If you think you'll need to toggle something, don't use comments, use a feature switch.</p>
      Open tickets for things you find (see boy scout rule)
    </div>
  </section>

  <section id="names" data-background="images/aintfoundshit.jpg" data-background-position="96% 50%" data-background-size="23%">
    <h2>Naming things</h2>
    <div style="float: right; width: 24%; height: 400px;">&nbsp;</div>
    <p>Is it greppable?</p>
    <p>Use unique app and model names</p>
    <p>Name variables (especially in tests) so they read like English</p>
    <aside class="notes" data-markdown>
      Wed 11:50 am
    <a href="https://2015.djangocon.us/schedule/presentation/48/">The Other Hard Problem: Lessons and Advice on Naming Things</a>
    Jacob Burch
    </aside>
    <aside class="notes">
GREPPABLE EXPLAIN
    </aside>
  </section>

  <section>
    <h2>Readable tests</h2>
    <p>Keep boilerplate out.</p>
    <pre><code data-trim class="lang-python">
class ArticleManagerTests(TestCase):
    def test_stuff(self):
        a = Article(active=True,
                    title='Corgi Beach Day',
                    slug='corgi-beach-day',
                    text='Corgs got sand on their stumpers'
                    pub_date='2015-09-31')
        self.assertIn(a, Article.objects.active())

    def test_active_returns_only_active_articles(self):
        article = ArticleFactory(active=True)
        self.assertIn(article, Article.objects.active())
    </code></pre>
    <aside class="notes">
       Factoryboy makes it so the attributes you specify are the ones that are relevant to the test.
    </aside>
  </section>

  <section>
    <h2>Unique names</h2>
    <pre><code data-trim>
$ ./manage.py shell_plus
# Shell Plus Model Imports
from django.contrib.admin.models import LogEntry
from django.contrib.auth.models import Group, Permission, User
from django.contrib.contenttypes.models import ContentType
from django.contrib.sessions.models import Session
from tx_elevators.models import Building, Elevator
# Shell Plus Django Imports
from django.utils import timezone
from django.conf import settings
from django.core.cache import cache
from django.db.models import Avg, Count, F, Max, Min, Sum, Q, Prefetch
from django.core.urlresolvers import reverse
from django.db import transaction
>>> Elevator.objects.count()
51952
    </code></pre>
    <aside class="notes">
Yes, shell plus gives you ways around this, but at the cost of more technical debt.
    </aside>
  </section>

  <section>
    <h2>Avoid the test client</h2>
    <p>Don’t use it! For unit tests.</p>
    <p>Do Use it! For integration tests</p>
    <pre><code class="nohighlight" style="text-align: center;">urls
request middleware
views (dispatch/get/get_context_data)
response middleware
context_processor</code></pre>
    <aside class="notes" data-markdown>
the test client touches the url router, middleware, context processor.
It’s useful if you’re testing routes, headers, vary cookie.
    </aside>
  </section>

  <section>
    <h2>Avoid model inheritance</h2>
    <p>Mixins and Base classes</p>
    <p>Hurts readability and performance</p>
    <p><img src="images/graphviz.png" alt="" style="height: 266px;"></p>
    <!-- http://django.es/blog/crear-una-imagen-de-nuestros-modelos-con-django-command-extensions/ -->
    <aside class="notes" data-markdown>

Django Extensions has examples for what a good model mixin is:
TimeStampedModel, TitleDescriptionModel, TitleSlugDescriptionModel

django-extensions.readthedocs.org/en/latest/model_extensions.html
    </aside>
  </section>

  <section id="fresh" data-background="images/fresh-comp.png" data-background-position="0% 100%" data-background-size="25%">
    <h2>Stay fresh</h2>
    <p><code>requirements.txt</code>:</p>
    <p>Every pull request, if a version can be bumped, bump it.</p>
    <pre><code class="lang-sh" data-trim>
$ pip list --outdated
$ bundle outdated
$ npm outdated
    </code></pre>
    <p>This only works if you have test coverage!</p>
    <aside class="notes" data-markdown>
Something I've always wanted to try is a Jenkins job that checks for updated
requirements and tells me when they break.
    </aside>
  </section>
</section>

<section>
  <section data-background="images/value-over-time.jpg" data-background-size="34%" data-background-position="50% 97%">
    <h2>Trading technical debt</h2>
    <ul>
      <li>Freezing content (Taco Bell Future)</li>
      <li>Deciding up front what you're optimizing for</li>
      <li>Adding deliberate code smells</li>
    </ul>
    <br><br><br><br><br><br>
    <aside class="notes" data-markdown>
Taco Bell future. At the Texas Tribune, we had big sections
of the site that broke all the time when we didn’t expect it to. So we traded
some caching and maintainability to get out out of our monolithic Django app.
Now we could work on new code without worrying if we would break things.

For startups, getting first to market is probably more important than
building quality.

Focus on good interfaces where you can throw away code that fulfills those
interfaces. (remember throw away code, keep the tests?)

Making code hard to maintain on purpose as a reminder that it should not be touched.
    </aside>
  </section>

  <section data-background="images/goodcheapfast.png" data-background-size="40%">
    <aside class="notes">
Technical debt is an engineering trade-off. Good Cheap Fast, pick two. You can
also just pick one if you want to.
    </aside>
  </section>

  <section>
    <h2>The exceptions</h2>
    <p>
      My general rule is if you can do everything in one screen of code, you write as crappy as you want.
    </p>
    <p>
      If you're writing throw away code, it should truly be disposable.
    </p>

    <aside class="notes" data-markdown>

In fact, it should be crappy. Introduce code smells on purpose. If you have
beautiful well tested code that was terrible. Premature optimization

Just remember: when was the last time a proof of concept was put into production? (EVERY TIME)

Refactor vs throw away (prototype) MVP
The specs and docs are more important than the code

Delivering value; don't let perfect be the enemy of good enough.
    </aside>
  </section>
</section>

<section>
  <section id="videos">
    <h2>Reading</h2>
    <li><a href="https://youtu.be/SaHbtEeu37M">Docker and DevOps</a> by Gene Kim, Dockercon ’14, 38m45s</li>
    <li>
      <a href="https://www.youtube.com/watch?v=URztqq1kiqI">Inheriting a Sloppy Codebase</a>
      by Casey Kinsey, 42m04s
    </li>
    <li>
      <a href="http://www.infoq.com/presentations/Simple-Made-Easy">Simple Made Easy</a> by Rich Hickey, 61m26s
    </li>
    <li>
      <a href="https://youtu.be/PJjmw9TRB7s">Implementing a Strong Code-Review Culture</a> 37m48s
    </li>
  </section>

  <section id="reading">
    <h2>Reading (for real)</h2>
    <ul>
      <li><a href="http://www.crccheck.com/blog/managing-technical-debt-in-django-projects/">My blog post</a></li>
      <li><a href="http://edcanhack.com/2014/09/a-healthy-platform-checklist/">A healthy platform checklist - ed can hack</a></li>
      <li>
      <a href="http://higherorderlogic.com/2010/07/bad-code-isnt-technical-debt-its-an-unhedged-call-option/">Bad code isn't Technical Debt, it's an unhedged Call Option</a>
      </li>
      <li>
      <a href="http://bigeng.io/post/118399425343/why-the-way-we-look-at-technical-debt-is-wrong">The way we look at technical debt is wrong</a>
      </li>
      <li><a href="http://steveblank.com/2015/05/19/organizational-debt-is-like-technical-debt-but-worse/">Organizational Debt is like Technical debt – but worse</a></li>
      <li><a href="http://martinfowler.com/bliki/TechnicalDebt.html">martinfowler / Technical Debt</a></li>
      <li><a href="http://devops.com/2014/10/07/qa-gene-kim-technical-debt/">Q&amp;A: Gene Kim</a></li>
      <li>The Phoenix Project</li>
    </ul>
  </section>
  <section>
    <img data-src="images/phoenix-project2.jpg" alt="" height="500px" style="border: 0;">
    &nbsp;
    &nbsp;
    <img class="fragment" data-src="images/phoenix-project.jpg" alt="" height="500px" style="border: 0;">
  </section>

  <section data-background="images/bartkira-mutation.png" data-background-position="50% 100%" data-background-size="40%">
    <h2>Similar discussions</h2>
    <ul>
      <li>Microservices vs Monoliths</li>
      <li>Single responsibility principle</li>
      <li>Not invented here syndrome</li>
      <li>Feature creep</li>
      <li>Insert product development buzzword here <a href="http://projects.wsj.com/buzzwords2014/">*</a></li>
    </ul>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
      <!-- Frans Boukas, Barkira project -->
  </section>
</section>

<section data-background="images/life-could-be-worse.png" data-background-position="98% 50%" data-background-size="27%">
  <!-- Calvin and Hobbes by Bill Watterson -->
  <h2>Homework</h2>
  <div style="float: right; width: 24%; height: 400px;">&nbsp;</div>
  <ul>
    <li>Get frustrated</li>
    <li>Get lazy &ndash; Automate away routine tasks</li>
    <li>Faster feedback loops</li>
    <li>Always be touching</li>
    <li>Treat fixing technical debt as a feature</li>
    <li>Clean as you code</li>
    <li>Foster a good coding culture</li>
    <li>Everything must be repeatable</li>
    <li>Plan ahead for the whole lifecycle</li>
  </ul>
</section>

<section>
  <section>
    <h1>Thanks!</h1>
    <img data-src="images/sausage.png" alt="" style="border: 0; padding: 0.3em 0.7em 0.7em; border-radius: 1em; height: 150px;">
    <p>
      <a href="https://github.com/crccheck/tech-debt-talk">github/crccheck/tech-debt-talk</a><br>
      <!-- <a href="https://hub.docker.com/r/crccheck/tech-debt/">docker/crccheck/tech-debt</a><br> -->
    </p>
    <pre><code data-trim>
docker run --rm -p 8000:1947 crccheck/tech-debt
    </code></pre>
  </section>
  <section></section>
  <section id="cables" data-background="images/badcable16.jpg"></section>
  <section id="taco" data-background="images/taco.jpg"></section>
  <section id="derp" data-background="images/derp.jpg"></section>
  <section id="joke" data-background="images/thatsthejoke.jpg" data-background-size="59%"></section>
</section>
      </div>

    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        transition: 'slide', // none/fade/slide/convex/concave/zoom

        width: 960,
        height: 540,

        // Optional reveal.js plugins
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true },
          { src: 'plugin/notes/notes.js', async: true },
          { src: 'socket.io/socket.io.js', async: true },
          { src: 'plugin/notes-server/client.js', async: true }
        ]
      });
    </script>
  </body>
</html>
